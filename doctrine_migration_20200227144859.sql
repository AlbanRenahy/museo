-- Doctrine Migration File Generated on 2020-02-27 14:48:59

-- Version 20200227133417
CREATE TABLE monument (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, city VARCHAR(255) NOT NULL, adress VARCHAR(255) NOT NULL, description VARCHAR(255) NOT NULL, thematiques VARCHAR(255) NOT NULL, likes INT DEFAULT NULL, dislikes INT DEFAULT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
INSERT INTO migration_versions (version, executed_at) VALUES ('20200227133417', CURRENT_TIMESTAMP);

-- Version 20200227134013
CREATE TABLE region (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, zipcode INT DEFAULT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
INSERT INTO migration_versions (version, executed_at) VALUES ('20200227134013', CURRENT_TIMESTAMP);

-- Version 20200227134208
ALTER TABLE monument ADD region_id INT NOT NULL;
ALTER TABLE monument ADD CONSTRAINT FK_7BB8828398260155 FOREIGN KEY (region_id) REFERENCES region (id);
CREATE INDEX IDX_7BB8828398260155 ON monument (region_id);
INSERT INTO migration_versions (version, executed_at) VALUES ('20200227134208', CURRENT_TIMESTAMP);

-- Version 20200227134341
CREATE TABLE region (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, zipcode INT DEFAULT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
ALTER TABLE monument ADD region_id INT NOT NULL, CHANGE description description LONGTEXT NOT NULL;
ALTER TABLE monument ADD CONSTRAINT FK_7BB8828398260155 FOREIGN KEY (region_id) REFERENCES region (id);
CREATE INDEX IDX_7BB8828398260155 ON monument (region_id);
INSERT INTO migration_versions (version, executed_at) VALUES ('20200227134341', CURRENT_TIMESTAMP);

-- Version 20200227134455
CREATE TABLE status (id INT AUTO_INCREMENT NOT NULL, status INT NOT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
INSERT INTO migration_versions (version, executed_at) VALUES ('20200227134455', CURRENT_TIMESTAMP);

-- Version 20200227134555
ALTER TABLE monument ADD status_id INT DEFAULT NULL;
ALTER TABLE monument ADD CONSTRAINT FK_7BB882836BF700BD FOREIGN KEY (status_id) REFERENCES status (id);
CREATE INDEX IDX_7BB882836BF700BD ON monument (status_id);
INSERT INTO migration_versions (version, executed_at) VALUES ('20200227134555', CURRENT_TIMESTAMP);

-- Version 20200227134748
CREATE TABLE region (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, zipcode INT DEFAULT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
CREATE TABLE status (id INT AUTO_INCREMENT NOT NULL, status INT NOT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
ALTER TABLE monument ADD region_id INT NOT NULL, ADD status_id INT DEFAULT NULL, CHANGE description description LONGTEXT NOT NULL;
ALTER TABLE monument ADD CONSTRAINT FK_7BB8828398260155 FOREIGN KEY (region_id) REFERENCES region (id);
ALTER TABLE monument ADD CONSTRAINT FK_7BB882836BF700BD FOREIGN KEY (status_id) REFERENCES status (id);
CREATE INDEX IDX_7BB8828398260155 ON monument (region_id);
CREATE INDEX IDX_7BB882836BF700BD ON monument (status_id);
INSERT INTO migration_versions (version, executed_at) VALUES ('20200227134748', CURRENT_TIMESTAMP);
